<!DOCTYPE html>
<html>
<head>
    <title>Test Firebase Auth</title>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithPopup, GoogleAuthProvider } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyA8hjvKfC_D1rQqIWgjhxq-xM1cmgDB3z4",
            authDomain: "titletesterpro.firebaseapp.com",
            projectId: "titletesterpro"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        window.testAuth = async () => {
            try {
                console.log('Starting Google sign-in...');
                const result = await signInWithPopup(auth, provider);
                console.log('✅ SUCCESS! User:', result.user.email);
                document.getElementById('result').innerHTML = `
                    <div style="color: green;">
                        ✅ Authentication successful!<br>
                        User: ${result.user.email}<br>
                        UID: ${result.user.uid}
                    </div>`;
            } catch (error) {
                console.error('❌ Error:', error);
                document.getElementById('result').innerHTML = `
                    <div style="color: red;">
                        ❌ Error: ${error.message}<br>
                        Code: ${error.code}
                    </div>`;
            }
        };
    </script>
</head>
<body>
    <h1>Firebase Auth Test</h1>
    <button onclick="testAuth()" style="padding: 10px 20px; font-size: 16px;">
        Test Google Sign-In
    </button>
    <div id="result" style="margin-top: 20px;"></div>
</body>
</html>
